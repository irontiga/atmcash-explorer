<dom-module id="my-asset-graph">
	<template>
		<div id="chart"></div>
	</template>
	
	<script>
		var app = Polymer({
			is: "my-asset-graph",
			
			properties: {
				id: {
					type: String
				},
				asset: {
					type: String,
					observer: "_assetObserver"
				}
			},
			
			
			_assetObserver: function(asset){
				console.log(asset);
				Highcharts.stockChart("chart", {
					title:{
						style: {
							fontSize: "20px",
							fontFamily: '"Roboto Mono", monospace',
							textAnchor: "left"
						}
					},
					chart:{
						style: {
							fontFamily: '"Roboto", sans-serif',
						},
						height: 500,
						borderColor: "#666"
					},
					plotOptions: {
						candlestick: {
							color: "#f44336",
							lineColor: "#f44336",
							upColor: "#4caf50",
							upLineColor: "#4caf50"
						},
						column:{
							color:"#444"
						}
					},
					credits:{
						enabled: false
					},
					/*rangeSelector: {
							selected: 1,
							inputEnabled: false,
							buttonTheme: {
								visibility: 'hidden'
							},
							labelStyle: {
								visibility: 'hidden'
							}
						},*/
					rangeSelector: {
						selected: 6
					},
					navigator: {
						enabled: true,
						height: 40,
						margin: 10,
						maskFill :"rgba(0,0,0,0.05)",
						maskInside: true,
						outLineWidth: 0,
						handles: {
							backgroundColor: "#333",
							borderColor: "#fff"
						},
						series: {
							color:"#00E5FF"
						}
					},
					scrollbar: {
						enabled: false
					},
					yAxis: [{
						labels: {
							align: 'right',
							x: -3
						},
						/*title: {
							text: this.asset.name
						},*/
						height: '70%',
						lineWidth: 2,
						min: 0,
						gridLineWidth: 0,
                        lineWidth: 0,
                        labels: {
                            format: "{value} Burst"
                        }
					}, {
						labels: {
							align: 'right',
							x: -3
						},
						/*title: {
							text: 'Volume'
						},*/
						top: '70%',
						height: '30%',
						offset: 0,
						lineWidth: 2,
						gridLineWidth: 0,
						lineWidth: 0
					}],
					xAxis: {
						lineWidth: 0
					},

					tooltip: {
						split: false,
						borderRadius: 0,
						borderWidth: 0,
						backgroundColor: "#fff"
					},
					
					series: [{
						type: 'candlestick',
						showInNavigator: true,
						name: this.asset.name,
						data: this.asset.candlestickChart/*,
					yAxis: 0*/
					}, {
						type: 'column',
						name: 'Volume',
						data: this.asset.volumeChart,
						yAxis: 1
					}]
				})
			}
		})
	</script>
</dom-module>