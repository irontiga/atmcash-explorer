<dom-module id="burst-api">
	<template>
		
		<iron-ajax
                   id="burstApiRequest"
				   auto
                   url="{{apiUrl}}"
				   params="{{params}}"
				   handle-as="json"
				   last-response="{{response}}"
				   on-response="_handleResponse"
				   debounce-duration="300"></iron-ajax>
	</template>
	<script>
		Polymer({
			is: "burst-api",

			properties: {
				id: {
					type: String,
					value: ""
				},
				response: {
					type: Object,
					notify: true
				},
				params: {
					type: Object
				},
                apiUrl: {
                    type: String,
                    value: API_URL
                }
			},
			_handleResponse: function(response){
				//console.log(response);
			},
            
            generateRequest(){
                this.shadowRoot.querySelector("#burstApiRequest").generateRequest();
            }
		});
	</script>
</dom-module>